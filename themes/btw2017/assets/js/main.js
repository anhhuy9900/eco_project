"use strict";function initMap(e,t,a){var a=a||"maps";document.getElementById(a)&&(map=new google.maps.Map(document.getElementById(a),{center:t||map_center,zoom:16,zoomControl:!1,scrollwheel:!1,navigationControl:!1,streetViewControl:!1,mapTypeControl:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]},{elementType:"geometry",stylers:[{color:"#f5f5f2"}]},{elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#3f808c"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#bae5ce"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#3f808c"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#ffffff"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#ffffff"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#3f808c"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#fac7a7"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#ba8969"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#a48e7d"}]},{featureType:"transit",elementType:"geometry",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels.text",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#c7eced"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#3f808c"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#c7eced"}]}]}),e||initData())}function initData(){if($||($=jQuery),data){var e=$(".wrap-tab-top li.active span").html().trim();if("all"==e)return;markers=[],data[e].forEach(function(e){var t=new google.maps.Marker({position:e.position,icon:e.icon,map:map});t._data=e,google.maps.event.addListener(t,"click",function(){$(".js-marker-info."+t._data.id).trigger("click")}),markers.push(t)}),$($(".js-marker-info").get(0)).trigger("click")}}function genLocationHtmlFromData(e){for(var t="",a=0;a<e.length;a++){var i=e[a],n='\n    <li class="{{active}}">\n    <a class="js-marker-info {{id}}" data-index="{{index}}" href="javascript:void(0);">{{text}}</a>\n    <div class="marker-content"><div>\n    </li>\n    ';n=n.replace(/{{active}}/g,0==a?"active":""),n=n.replace(/{{id}}/g,i.id),n=n.replace(/{{index}}/g,a),n=n.replace(/{{text}}/g,i.text),t+=n}return t}function genHtmlFromData(e,t){if(t){var a='<div class="template">\n                          <header>\n                            <h3 class="head">{{text}}</h3>\n                          </header>\n                          <div class="desc">{{desc}}</div>\n                          <label class="location">\n                            <i class="icon icon-marker"></i>\n                            <span>{{location}}</span>\n                          </label>\n                          <label class="phone">\n                            <i class="icon icon-phone"></i>\n                            <span>{{phone}}</span>\n                          </label>\n                        </div>';return a=a.replace(/{{text}}/g,e.text),a=a.replace(/{{desc}}/g,e.desc),a=a.replace(/{{location}}/g,e.location),a=a.replace(/{{phone}}/g,e.phone)}var i='<div class="template">\n                    <figure>\n                      <img src="{{image}}">\n                    </figure>\n                    <div class="source-info">{{hyperlink}}</div>\n                    <div class="desc">{{desc}}</div>\n                    <label class="location">\n                      <i class="icon icon-marker"></i>\n                      <span>{{location}}</span>\n                    </label>\n                    <label class="phone">\n                      <i class="icon icon-phone"></i>\n                      <span>{{phone}}</span>\n                    </label>\n                  </div>';return i=i.replace(/{{image}}/g,e.image),i=i.replace(/{{hyperlink}}/g,e.hyperlink),i=i.replace(/{{desc}}/g,e.desc),i=i.replace(/{{location}}/g,e.location),i=i.replace(/{{phone}}/g,e.phone)}!function(e){e(".js-menu-bar").on("click",function(t){t.preventDefault(),e(".main-nav").toggleClass("active")}),e(".js-modal-view").length&&e(".js-modal-view").off("click").on("click",function(t){t.preventDefault();var a=e(this).attr("data-target"),i=e(this).attr("data-type"),n=e(this).attr("data-url");if(e(a).modal(),"video"==i){var o=e(a).find("iframe");o.attr("src","https://www.youtube.com/embed/"+n)}if("image"==i){e(a).find("img").attr("src",n)}e(a).find(".modal-content").addClass(i),e(a).off("hidden.bs.modal").on("hidden.bs.modal",function(){o&&o.attr("src",""),e(a).find(".modal-content").attr("class","modal-content")})})}(jQuery),function(e){e(".page-home").length&&e(".page-home .plan .list").slick({arrows:!1,slidesToShow:4,dots:!0,responsive:[{breakpoint:480,settings:{centerMode:!0,centerPadding:"30px",slidesToShow:1}},{breakpoint:992,settings:{centerMode:!0,centerPadding:"30px",slidesToShow:2}},{breakpoint:1200,settings:{centerMode:!0,centerPadding:"30px",slidesToShow:3}}]})}(jQuery),function(e){if(e(".page-article-detail").length){var t=function(){var t=!1,a=!1,i=e(".main-article"),n=e(".social"),o=i.offset().top,s=o+i.outerHeight()-n.outerHeight()-25;e(window).off("scroll.sticky").on("scroll.sticky",function(i){var r=e(window).scrollTop()+e(".header").outerHeight();return r>o&&!t?(n.addClass("sticky"),void(t=!0)):r>s&&!a?(n.addClass("sticky-end").removeClass("sticky"),void(a=!0)):r<s&&r>o&&a?(n.removeClass("sticky-end").addClass("sticky"),void(a=!1)):r<o&&t?(n.removeClass("sticky"),void(t=!1)):void 0})},a=0;e(window).on("resize.sticky",function(e){clearTimeout(a),a=setTimeout(t,500)}),e(window).on("load.sticky",t)}}(jQuery);var map,markers=[];!function(e){e(".page-destination-detail").length&&(e(".page-destination-detail").on("click",".js-marker-info",function(t){t.preventDefault(),e(this).parent().addClass("active").siblings().removeClass("active");var a=e(this).attr("data-index"),i=e(".wrap-tab-top li.active span").text();if(data&&map){var n=data[i][a],o=markers[a];markers.forEach(function(e){e.setIcon(e._data.icon),e.setZIndex(1)}),o.setIcon(o._data.icon_active),o.setZIndex(9),map.panTo(o._data.position);var s=genHtmlFromData(n.content);e(".info-detail").html(s),e(".marker-content").html(""),e(this).siblings(".marker-content").html(s)}}),e(".js-action-link").on("click",function(t){t.preventDefault();var a=e(this),i=e(this).attr("data-target"),n=e(this).attr("data-type"),o=JSON.parse(e(this).siblings(".data").html());if(e(i).modal(),"video"==n){var s=e(i).find("iframe"),r=o.video_id;s.attr("src","https://www.youtube.com/embed/"+r)}if("gallery"==n){var l,c="",d=e(i).find("ul"),p=e(i).find("figure");e(i).css("opacity",0),o.image.forEach(function(e){var t='<li><img src="{{thumb}}" data-src="{{src}}" /></li>';t=t.replace(/{{thumb}}/g,e.thumb),t=t.replace(/{{src}}/g,e.src),c+=t}),d.html(c),setTimeout(function(){l=d.slick({slidesToShow:5,responsive:[{breakpoint:768,settings:{slidesToShow:3}}]}),d.off("click","img").on("click","img",function(t){var a='<img src="{{src}}" />';a=a.replace(/{{src}}/g,e(this).attr("data-src")),p.html(a),e(this).parent().addClass("active").siblings("li").removeClass("active")}),d.find(".slick-prev").trigger("click"),e(d.find(".slick-current img")[0]).trigger("click"),e(i).css("opacity","")},1e3)}"map"==n&&setTimeout(function(){var t=genHtmlFromData(o,!0),n=e(i).find(".map-info"),s=a.attr("data-map");initMap(!0,o.position,s),n.html(t),new google.maps.Marker({position:o.position,icon:o.icon_active,map:map})},1e3),e(i).find(".modal-content").addClass(n),e(i).off("hidden.bs.modal").on("hidden.bs.modal",function(){s&&s.attr("src",""),l&&(l.slick("unslick"),d.html("")),e(i).find(".modal-content").attr("class","modal-content")})}))}(jQuery),function(e){e(".page-discover").length&&e(".page-discover .discover-func .list").slick({arrows:!1,slidesToShow:4,dots:!0,responsive:[{breakpoint:480,settings:{centerMode:!0,centerPadding:"30px",slidesToShow:1}},{breakpoint:992,settings:{centerMode:!0,centerPadding:"30px",slidesToShow:2}},{breakpoint:1200,settings:{centerMode:!0,centerPadding:"30px",slidesToShow:3}}]})}(jQuery);